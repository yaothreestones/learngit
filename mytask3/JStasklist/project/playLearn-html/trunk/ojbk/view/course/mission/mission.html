<div class="course_mission_total">
    <div class="course_mission_clear-fix">
        <span class="course_drop-down course_mission_drop-down" ng-click="vm.mission_search()">{{vm.mission_selected}}</span>
    </div>
    <div>
        <div class="course_dropdown-list course_dropdown-list_fixed " ng-show="vm.mission_isShow">
            <div style="height: 28vw;overflow-y: scroll;overflow-x: hidden;">
                <div>
                    <button class="course_mission_search-list" ng-repeat="task in vm.taskCount" ng-click="vm.mission_select(task)" ng-class="{period_mission_begin:task.studyStatus === 0,period_mission_study:task.studyStatus === 1,period_mission_finish:task.studyStatus === 2}" ng-disabled="vm.taskCount[$index-1].studyStatus!==2&&vm.taskCount[$index].studyStatus===0">{{task.name}}</button>
                </div>
            </div>
            <div class="course_modal-list"></div>
        </div>
    </div>
    <div class="course_mission_body">
        <div class="course_mission_mainbody">
            <div class="course_mission_stepOut" ng-class="{'course_mission_border':vm.isLast($index+1)}" ng-repeat="step in vm.a">
                <div class="course_mission_fixed">
                    <p class="course_mission_stepCount" ng-style="{background:(($index%5)|stepBackColor)}">{{$index+1}}</p>
                    <p class="course_mission_step">第{{$index+1|time}}步</p>
                    <div class="course_mission_step">
                        <div></div>
                        <div create-editoer-instance ng-model="step.text" class="rich" ng-show="step.type===4||step.type===5" disabled="disabled"></div>
                    </div>
                    <div ng-show="step.type===2||step.type===5" class="course_mission_step">
                        <button type="button" ng-click="vm.playAudio($index+1)">{{vm.audioPlay[$index]|playMusic}}</button>
                        <input type="button" value="快进10秒" onclick="forward()" />
                        <audio id="audio{{$index+1}}">
                            <source ng-src="{{step.url}}" type="audio/mp3">
                        </audio>
                    </div>
                    <img ng-src="{{step.url}}" class="course_mission_step">
                </div>
            </div>
            <div class="course_mission_button_box">
                <button class="course_mission_lastStep" ng-click="vm.reduce()" ng-disabled="vm.a.length===1" ng-class="{'course_mission_lastStep_fixed':vm.a.length===1}"></button>
                <button class="course_mission_nextStep" ng-click="vm.add()" ng-disabled="vm.a.length === vm.steps.length" ng-class="{'course_mission_nextStep_fixed':vm.a.length === vm.steps.length}"></button>
            </div>
        </div>
    </div>
    <div class="course_period_lock_modal" ng-if="vm.tip">
        <div ng-if="vm.tip">
            <div class="course_details_modal_tip">
                <div style="position:relative;">
                    <div class="course_period_closetip" ng-click="vm.close()"><img src="image/app/close.png" alt="" class="course_period_closetip"></div>
                    <div class="course_period_littleTip">小贴士</div>
                </div>
                <div style="text-align: center;width: 25vw;">{{vm.promptInformation}}</div>
                <button class="course_period_lock_button_tip" ng-click="vm.goPay()" ng-if="vm.type===2">购买</button>
            </div>
            <div  class="course_period_lock"></div>
        </div>
    </div>
    <div class="course_mission_bottom">
        <button ng-click="vm.last()" class="course_mission_select_last" ng-disabled="vm.lastMission">上个任务</button>
        <button ng-click="vm.next()" class="course_mission_select_next" ng-disabled="vm.a.length < vm.steps.length">{{vm.mission_isLast}}</button>
    </div>
</div>
